{"ast":null,"code":"import _asyncToGenerator from\"/Volumes/Study/CS/React JS/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Volumes/Study/CS/React JS/app/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import CustomRadio from'../utility/CustomRadio';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SaveTask(){var resetResponse=function resetResponse(){var form=document.getElementById('add-task-form');var formResponse=form.getElementsByClassName('response');for(var i=0;i<formResponse.length;i++){formResponse[i].innerText='';}};var handleReset=function handleReset(){var form=document.getElementById('add-task-form');form.reset();};function postData(_x,_x2){return _postData.apply(this,arguments);}function _postData(){_postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,data){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url,{method:'POST',body:data});case 2:response=_context.sent;return _context.abrupt(\"return\",response.json());case 4:case\"end\":return _context.stop();}}},_callee);}));return _postData.apply(this,arguments);}var populateResponse=function populateResponse(res){var form=document.getElementById('add-task-form');var successBlock=form.getElementsByClassName('form-success')[0];successBlock.style.display='none';var errorBlock=form.getElementsByClassName('form-error')[0];errorBlock.style.display='none';var success=res.success;var error=res.error;var errorLog=res.errorLog;if(success){successBlock.innerHTML=success;successBlock.style.display='block';errorBlock.style.display='none';form.reset();resetResponse();}else{errorBlock.innerHTML=error;errorBlock.style.display='block';var icon='<i class=\"fas fa-exclamation-circle\"></i>';var formResponse=form.getElementsByClassName('response');var title=errorLog.title?icon+errorLog.title:'';var amount=errorLog.amount?icon+errorLog.amount:'';var analyst=errorLog.analyst?icon+errorLog.analyst:'';var status=errorLog.status?icon+errorLog.status:'';formResponse[0].innerHTML=title;formResponse[1].innerHTML=amount;formResponse[2].innerHTML=analyst;formResponse[3].innerHTML=status;}};var handleSubmit=function handleSubmit(e){e.preventDefault();var inputBlock=e.target.getElementsByClassName('input-block');var inputs1=inputBlock[0].getElementsByTagName('input');var inputs2=inputBlock[1].getElementsByTagName('input');var inputs3=inputBlock[2].getElementsByTagName('input');var body=new FormData();body.append('title',inputs1[0].value);body.append('amount',inputs1[1].value);body.append('analyst',inputs2[0].value);var status=inputs3[0].checked?inputs3[0].value:inputs3[1].value;body.append('status',status);postData('http://localhost/API/Admin/add-task.php',body).then(function(data){populateResponse(data);});};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-container flex-row jc-c ai-c\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"add-task-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:\"Add Task\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-success\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-error\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container-bottom-border\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\"}),/*#__PURE__*/_jsx(\"div\",{className:\"response\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container-bottom-border\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.000001\",name:\"amount\"}),/*#__PURE__*/_jsx(\"div\",{className:\"response\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container-bottom-border\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Done by\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"analyst\"}),/*#__PURE__*/_jsx(\"div\",{className:\"response\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"customized-radio\",children:[/*#__PURE__*/_jsx(CustomRadio,{value:\"Completed\",text:\"Completed\",name:\"status\",icon:\"fas fa-box-open\"}),/*#__PURE__*/_jsx(CustomRadio,{value:\"Pending\",text:\"Pending\",name:\"status\",icon:\"fas fa-box\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"response\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-row jc-sb\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:handleReset,className:\"btn btn-secondary btn-medium\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-medium\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:\"Add your task and see analytics.\"})]})});}export default SaveTask;","map":{"version":3,"sources":["/Volumes/Study/CS/React JS/app/src/components/dashboard/SaveTask.js"],"names":["React","CustomRadio","SaveTask","resetResponse","form","document","getElementById","formResponse","getElementsByClassName","i","length","innerText","handleReset","reset","postData","url","data","fetch","method","body","response","json","populateResponse","res","successBlock","style","display","errorBlock","success","error","errorLog","innerHTML","icon","title","amount","analyst","status","handleSubmit","e","preventDefault","inputBlock","target","inputs1","getElementsByTagName","inputs2","inputs3","FormData","append","value","checked","then"],"mappings":"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","sourcesContent":["import React from 'react'\nimport CustomRadio from '../utility/CustomRadio';\n\nfunction SaveTask() {\n\n    const resetResponse = () => {\n        let form = document.getElementById('add-task-form');\n        let formResponse = form.getElementsByClassName('response');\n        for(let i=0; i<formResponse.length; i++)\n            formResponse[i].innerText = '';\n    }\n\n\n    const handleReset = () => {\n        let form = document.getElementById('add-task-form');\n        form.reset();\n    }\n\n    async function postData(url, data) {\n        const response = await fetch(url, {\n            method: 'POST',\n            body: data \n          });\n        return response.json(); \n    }\n\n    const populateResponse = (res) => {\n        let form = document.getElementById('add-task-form');\n        let successBlock =form.getElementsByClassName('form-success')[0];\n        successBlock.style.display = 'none';\n        let errorBlock = form.getElementsByClassName('form-error')[0];\n        errorBlock.style.display = 'none';\n        let success = res.success;\n        let error = res.error;\n        let errorLog = res.errorLog;\n\n        if(success) {\n            successBlock.innerHTML = success;\n            successBlock.style.display = 'block';\n            errorBlock.style.display = 'none';\n            form.reset();\n            resetResponse();\n        }\n        else {\n            errorBlock.innerHTML = error;\n            errorBlock.style.display = 'block';\n            let icon = '<i class=\"fas fa-exclamation-circle\"></i>';\n            let formResponse = form.getElementsByClassName('response');\n            let title = errorLog.title ? icon + errorLog.title : '';\n            let amount = errorLog.amount ? icon + errorLog.amount : '';\n            let analyst = errorLog.analyst ? icon + errorLog.analyst : '';\n            let status = errorLog.status ? icon + errorLog.status : '';\n            formResponse[0].innerHTML = title;\n            formResponse[1].innerHTML = amount;\n            formResponse[2].innerHTML = analyst;\n            formResponse[3].innerHTML = status;\n        }\n    }\n  \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let inputBlock = e.target.getElementsByClassName('input-block');\n        \n        let inputs1 = inputBlock[0].getElementsByTagName('input');\n        let inputs2 = inputBlock[1].getElementsByTagName('input');\n        let inputs3 = inputBlock[2].getElementsByTagName('input');\n\n        let body = new FormData;\n        body.append('title', inputs1[0].value);\n        body.append('amount', inputs1[1].value);\n        body.append('analyst', inputs2[0].value);\n        let status = inputs3[0].checked ? inputs3[0].value : inputs3[1].value;\n        body.append('status', status);\n\n        \n        postData('http://localhost/API/Admin/add-task.php', body)\n        .then(data => {\n             populateResponse(data);\n        });\n\n    }\n\n\n    return (\n        <div className='signup-container flex-row jc-c ai-c'>\n            <form id=\"add-task-form\" onSubmit={handleSubmit}>\n                <div className='header'>Add Task</div>\n                <div className='form-success'></div>\n                <div className='form-error'></div>\n                <div className='input-block'>\n                    <div className='input-container-bottom-border'>\n                        <label>Title</label>\n                        <input type=\"text\" name=\"title\" />\n                        <div className='response'></div>\n                    </div>\n                    <div className='input-container-bottom-border'>\n                        <label>Amount</label>\n                        <input type=\"number\" step=\"0.000001\" name=\"amount\" />\n                        <div className='response'></div>\n                    </div>\n                </div>\n                <div className='input-block'>\n                    <div className='input-container-bottom-border'>\n                        <label>Done by</label>\n                        <input type=\"text\" name=\"analyst\" />\n                        <div className='response'></div>\n                    </div>\n                </div>\n                <div className='input-block'>\n                    <div className='customized-radio'>\n                        <CustomRadio \n                            value='Completed' \n                            text='Completed'\n                            name='status'\n                            icon='fas fa-box-open'\n                        />\n                        <CustomRadio \n                            value='Pending' \n                            text='Pending'\n                            name='status'\n                            icon='fas fa-box'\n                        />\n                    </div>\n                    <div className='response'></div>\n                </div>\n                <div className='flex-row jc-sb'>\n                    <div onClick={handleReset} className='btn btn-secondary btn-medium'>Reset</div>\n                    <button className='btn btn-primary btn-medium'>Add</button>\n                </div>\n                <div className='footer'>\n                    Add your task and see analytics.\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default SaveTask\n"]},"metadata":{},"sourceType":"module"}